{"ast":null,"code":"import { find } from './util';\nvar transfomers = {};\nexport var CustomTransformerRegistry = {\n  register: function (transformer) {\n    transfomers[transformer.name] = transformer;\n  },\n  findApplicable: function (v) {\n    return find(transfomers, function (transformer) {\n      return transformer.isApplicable(v);\n    });\n  },\n  findByName: function (name) {\n    return transfomers[name];\n  }\n};","map":{"version":3,"mappings":"AACA,SAASA,IAAT,QAAqB,QAArB;AASA,IAAMC,WAAW,GAA+C,EAAhE;AAEA,OAAO,IAAMC,yBAAyB,GAAG;EACvCC,QAAQ,EAAR,UAAiCC,WAAjC,EAAoE;IAClEH,WAAW,CAACG,WAAW,CAACC,IAAb,CAAX,GAAgCD,WAAhC;EACD,CAHsC;EAKvCE,cAAc,EAAd,UAAkBC,CAAlB,EAAsB;IACpB,OAAOP,IAAI,CAACC,WAAD,EAAc,uBAAW;MAAI,kBAAW,CAACO,YAAZ,CAAyBD,CAAzB;IAA2B,CAAxD,CAAX;EAGD,CATsC;EAWvCE,UAAU,EAAV,UAAWJ,IAAX,EAAuB;IACrB,OAAOJ,WAAW,CAACI,IAAD,CAAlB;EACD;AAbsC,CAAlC","names":["find","transfomers","CustomTransformerRegistry","register","transformer","name","findApplicable","v","isApplicable","findByName"],"sources":["/home/julien/Bureau/P7 Front/OCR-P7-Front/node_modules/superjson/src/custom-transformer-registry.ts"],"sourcesContent":["import { JSONValue } from './types';\nimport { find } from './util';\n\nexport interface CustomTransfomer<I, O extends JSONValue> {\n  name: string;\n  isApplicable: (v: any) => v is I;\n  serialize: (v: I) => O;\n  deserialize: (v: O) => I;\n}\n\nconst transfomers: Record<string, CustomTransfomer<any, any>> = {};\n\nexport const CustomTransformerRegistry = {\n  register<I, O extends JSONValue>(transformer: CustomTransfomer<I, O>) {\n    transfomers[transformer.name] = transformer;\n  },\n\n  findApplicable<T>(v: T) {\n    return find(transfomers, transformer => transformer.isApplicable(v)) as\n      | CustomTransfomer<T, JSONValue>\n      | undefined;\n  },\n\n  findByName(name: string) {\n    return transfomers[name];\n  },\n};\n"]},"metadata":{},"sourceType":"module"}