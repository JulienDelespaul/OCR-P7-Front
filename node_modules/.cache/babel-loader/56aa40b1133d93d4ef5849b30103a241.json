{"ast":null,"code":"var _jsxFileName = \"/home/julien/Dropbox/Formation OpenClassroom/Projet 7/code/FRONTEND/src/components/Posts.jsx\",\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport axios from \"../Api/axios\";\nimport useAuth from \"../hooks/useAuth\";\nimport usePostsRefresh from \"../hooks/usePostsRefresh\";\nimport LikeButton from \"./Button/LikeButton\";\nimport Delete from \"./Button/DeletePost\";\nimport Modal from \"./Button/Modal\";\nimport ElapsedTime from \"./Utilities/ElapsedTime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Posts = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const {\n    refresh,\n    setRefresh,\n    postId\n  } = usePostsRefresh();\n  const {\n    auth\n  } = useAuth();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [results, setResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState({});\n  const [hasNextPage, setHasNextPage] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [freshPages, setFreshPages] = useState([]);\n  useEffect(() => {\n    setIsLoading(true);\n    setIsError(false);\n    setError({});\n    let isMounted = true;\n\n    const getPosts = async () => {\n      try {\n        if (refresh) {\n          setRefresh(false);\n          setResults([]);\n          let freshPages = [];\n\n          for (let i = 1; i <= pageNumber; i++) {\n            const response = await axios.get(`/post/page/${i}`, {\n              headers: {\n                Authorization: `Bearer ${auth.token}`\n              }\n            });\n            setFreshPages(freshPages => [...freshPages, response.data]);\n            console.log(\"fresh pages\", freshPages);\n            isMounted && setResults(freshPages);\n            setHasNextPage(Boolean(response.data.length));\n            setIsLoading(false);\n          }\n\n          console.log(\"fresh posts\", freshPages);\n        } else {\n          const response = await axios.get(`/post/page/${pageNumber}`, {\n            headers: {\n              Authorization: `Bearer ${auth.token}`\n            }\n          });\n          isMounted && setResults(prev => [...prev, ...response.data]);\n          setHasNextPage(Boolean(response.data.length));\n          setIsLoading(false);\n        }\n      } catch (error) {\n        setIsLoading(false);\n        setIsError(true);\n        setError({\n          message: error.message\n        });\n      }\n    };\n\n    getPosts();\n    return () => {\n      isMounted = false;\n    };\n  }, [auth.token, pageNumber, refresh, setRefresh]);\n  let lastPost = \"\";\n\n  const LoadNextPage = () => {\n    _s();\n\n    const intObserver = useRef();\n    lastPost = useCallback(post => {\n      if (isLoading) return;\n      if (intObserver.current) intObserver.current.disconnect();\n      intObserver.current = new IntersectionObserver(results => {\n        if (results[0].isIntersecting && hasNextPage) {\n          console.log(\"Last post\");\n          setPageNumber(prev => prev + 1);\n        }\n      });\n      if (post) intObserver.current.observe(post);\n    });\n  };\n\n  _s(LoadNextPage, \"lD1Xs0aSGK6AUBZM3qfEQw0xMG4=\");\n\n  LoadNextPage();\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"text-tertiary text-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 text-primary font-bold text-3xl border-primary border-b-8 border-r-8 rounded-2xl\",\n      children: \"Contributions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }, this), results !== null && results !== void 0 && results.length ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: results.map((post, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n        ref: lastPost,\n        className: \"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 border-tertiary border-b-8 border-r-8 rounded-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: post.userId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-base\",\n            children: [\"Il y a \", ElapsedTime(post === null || post === void 0 ? void 0 : post.createdAt)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-secondary mt-2 p-4 border-tertiary border-2\",\n          children: post === null || post === void 0 ? void 0 : post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: (post === null || post === void 0 ? void 0 : post.imageUrl) && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: post.imageUrl,\n            alt: \"post\",\n            className: \" h-80 mt-4 mx-auto object-cover rounded-2xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-row\",\n            children: [/*#__PURE__*/_jsxDEV(LikeButton, {\n              post: post\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 10\n            }, this), post.likes !== 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"pl-2 pt-2\",\n              children: post.likes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-row gap-x-4  \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-row \",\n              children: (post.userId === auth.userId || auth.role === \"admin\") && /*#__PURE__*/_jsxDEV(Modal, {\n                post: post\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 101\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-row \",\n              children: (post.userId === auth.userId || auth.role === \"admin\") && /*#__PURE__*/_jsxDEV(Delete, {\n                post: post\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 101\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 8\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Aucun post \\xE0 afficher...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(Posts, \"BvMmQMx6l1TqiorZAKNSpQurqlA=\", false, function () {\n  return [usePostsRefresh, useAuth];\n});\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","axios","useAuth","usePostsRefresh","LikeButton","Delete","Modal","ElapsedTime","Posts","refresh","setRefresh","postId","auth","pageNumber","setPageNumber","results","setResults","isLoading","setIsLoading","error","setError","hasNextPage","setHasNextPage","isError","setIsError","freshPages","setFreshPages","isMounted","getPosts","i","response","get","headers","Authorization","token","data","console","log","Boolean","length","prev","message","lastPost","LoadNextPage","intObserver","post","current","disconnect","IntersectionObserver","isIntersecting","observe","map","userId","createdAt","content","imageUrl","likes","role"],"sources":["/home/julien/Dropbox/Formation OpenClassroom/Projet 7/code/FRONTEND/src/components/Posts.jsx"],"sourcesContent":["import { useState, useEffect, useRef, useCallback } from \"react\";\nimport axios from \"../Api/axios\";\nimport useAuth from \"../hooks/useAuth\";\nimport usePostsRefresh from \"../hooks/usePostsRefresh\";\nimport LikeButton from \"./Button/LikeButton\";\nimport Delete from \"./Button/DeletePost\";\nimport Modal from \"./Button/Modal\";\nimport ElapsedTime from \"./Utilities/ElapsedTime\";\n\nconst Posts = () => {\n\tconst { refresh, setRefresh, postId } = usePostsRefresh();\n\tconst { auth } = useAuth();\n\tconst [pageNumber, setPageNumber] = useState(1);\n\tconst [results, setResults] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState({});\n\tconst [hasNextPage, setHasNextPage] = useState(false);\n\tconst [isError, setIsError] = useState(false);\n\tconst [freshPages, setFreshPages] = useState([]);\n\n\tuseEffect(() => {\n\t\tsetIsLoading(true);\n\t\tsetIsError(false);\n\t\tsetError({});\n\n\t\tlet isMounted = true;\n\n\t\tconst getPosts = async () => {\n\t\t\ttry {\n\t\t\t\tif (refresh) {\n\t\t\t\t\tsetRefresh(false);\n\t\t\t\t\tsetResults([]);\n\t\t\t\t\tlet freshPages = [];\n\t\t\t\t\tfor (let i = 1; i <= pageNumber; i++) {\n\t\t\t\t\t\tconst response = await axios.get(`/post/page/${i}`, {\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetFreshPages((freshPages) => [...freshPages, response.data]);\n\t\t\t\t\t\tconsole.log(\"fresh pages\", freshPages);\n\t\t\t\t\t\tisMounted && setResults(freshPages);\n\t\t\t\t\t\tsetHasNextPage(Boolean(response.data.length));\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(\"fresh posts\", freshPages);\n\t\t\t\t} else {\n\t\t\t\t\tconst response = await axios.get(`/post/page/${pageNumber}`, { headers: { Authorization: `Bearer ${auth.token}` } });\n\t\t\t\t\tisMounted && setResults((prev) => [...prev, ...response.data]);\n\t\t\t\t\tsetHasNextPage(Boolean(response.data.length));\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tsetIsLoading(false);\n\t\t\t\tsetIsError(true);\n\t\t\t\tsetError({ message: error.message });\n\t\t\t}\n\t\t};\n\t\tgetPosts();\n\n\t\treturn () => {\n\t\t\tisMounted = false;\n\t\t};\n\t}, [auth.token, pageNumber, refresh, setRefresh]);\n\n\tlet lastPost = \"\";\n\n\tconst LoadNextPage = () => {\n\t\tconst intObserver = useRef();\n\t\tlastPost = useCallback((post) => {\n\t\t\tif (isLoading) return;\n\t\t\tif (intObserver.current) intObserver.current.disconnect();\n\n\t\t\tintObserver.current = new IntersectionObserver((results) => {\n\t\t\t\tif (results[0].isIntersecting && hasNextPage) {\n\t\t\t\t\tconsole.log(\"Last post\");\n\t\t\t\t\tsetPageNumber((prev) => prev + 1);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (post) intObserver.current.observe(post);\n\t\t});\n\t};\n\n\tLoadNextPage();\n\n\treturn (\n\t\t<article className=\"text-tertiary text-lg\">\n\t\t\t<h2 className=\"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 text-primary font-bold text-3xl border-primary border-b-8 border-r-8 rounded-2xl\">\n\t\t\t\tContributions\n\t\t\t</h2>\n\t\t\t{results?.length ? (\n\t\t\t\t<ul>\n\t\t\t\t\t{results.map((post, i) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tref={lastPost}\n\t\t\t\t\t\t\tclassName=\"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 border-tertiary border-b-8 border-r-8 rounded-2xl\"\n\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"flex flex-row justify-between\">\n\t\t\t\t\t\t\t\t<div>{post.userId}</div>\n\t\t\t\t\t\t\t\t<div className=\"text-base\">Il y a {ElapsedTime(post?.createdAt)}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"bg-secondary mt-2 p-4 border-tertiary border-2\">{post?.content}</div>\n\t\t\t\t\t\t\t<div>{post?.imageUrl && <img src={post.imageUrl} alt=\"post\" className=\" h-80 mt-4 mx-auto object-cover rounded-2xl\" />}</div>\n\t\t\t\t\t\t\t<div className=\"flex justify-between mt-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex flex-row\">\n\t\t\t\t\t\t\t\t\t<LikeButton post={post} />\n\t\t\t\t\t\t\t\t\t{post.likes !== 0 && <p className=\"pl-2 pt-2\">{post.likes}</p>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex flex-row gap-x-4  \">\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-row \">{(post.userId === auth.userId || auth.role === \"admin\") && <Modal post={post} />}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-row \">{(post.userId === auth.userId || auth.role === \"admin\") && <Delete post={post} />}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<p>Aucun post à afficher...</p>\n\t\t\t)}\n\t\t</article>\n\t);\n};\n\nexport default Posts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}