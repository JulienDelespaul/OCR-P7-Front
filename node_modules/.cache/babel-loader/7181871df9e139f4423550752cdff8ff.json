{"ast":null,"code":"var _jsxFileName = \"/home/julien/Dropbox/Formation OpenClassroom/Projet 7/code/FRONTEND/src/components/Posts.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { useInfiniteQuery } from \"@tanstack/react-query\";\nimport axios from \"../Api/axios\";\nimport useAuth from \"../hooks/useAuth\";\nimport LikeButton from \"./Button/LikeButton\";\nimport Delete from \"./Button/DeletePost\";\nimport Modal from \"./Button/Modal\";\nimport ElapsedTime from \"./Utilities/ElapsedTime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Posts = () => {\n  _s();\n\n  const {\n    auth\n  } = useAuth();\n  const {\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage,\n    data,\n    status,\n    error\n  } = useInfiniteQuery(`/posts`, async _ref => {\n    let {\n      pageParam = 1\n    } = _ref;\n    const response = await axios.get(`/post/page/${pageParam}`, {\n      headers: {\n        Authorization: `Bearer ${auth.token}`\n      }\n    });\n    return response.data;\n  }, {\n    getNextPageParam: (lastPage, allPages) => {\n      return lastPage.length ? allPages.length + 1 : undefined;\n    }\n  });\n  const intObserver = useRef();\n  const lastPostRef = useCallback(post => {\n    if (isFetchingNextPage) return;\n    if (intObserver.current) intObserver.current.disconnect();\n    intObserver.current = new IntersectionObserver(posts => {\n      if (posts[0].isIntersecting && hasNextPage) {\n        console.log(\"Dernier post\");\n        fetchNextPage();\n      }\n    });\n    if (post) intObserver.current.observe(post);\n  }, [isFetchingNextPage, hasNextPage, fetchNextPage]);\n  const content = data === null || data === void 0 ? void 0 : data.pages.map(pg => {\n    return pg.map((post, i) => {\n      if (pg.length === i + 1) {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          ref: lastPostRef,\n          className: \"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 border-tertiary border-b-8 border-r-8 rounded-2xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-row justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: post.userId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-base\",\n              children: [\"Il y a \", ElapsedTime(post === null || post === void 0 ? void 0 : post.createdAt)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-secondary mt-2 p-4 border-tertiary border-2\",\n            children: post === null || post === void 0 ? void 0 : post.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: (post === null || post === void 0 ? void 0 : post.imageUrl) && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: post.imageUrl,\n              alt: \"post\",\n              className: \" h-80 mt-4 mx-auto object-cover rounded-2xl\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 31\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-row\",\n              children: [/*#__PURE__*/_jsxDEV(LikeButton, {\n                post: post\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 9\n              }, this), post.likes !== 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"pl-2 pt-2\",\n                children: post.likes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 30\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-row gap-x-4  \",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-row \",\n                children: (post.userId === auth.userId || auth.role === \"admin\") && /*#__PURE__*/_jsxDEV(Modal, {\n                  post: post\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 100\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-row \",\n                children: (post.userId === auth.userId || auth.role === \"admin\") && /*#__PURE__*/_jsxDEV(Delete, {\n                  post: post\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 100\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this)]\n        }, post._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }, this);\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 border-tertiary border-b-8 border-r-8 rounded-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: post.userId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-base\",\n            children: [\"Il y a \", ElapsedTime(post === null || post === void 0 ? void 0 : post.createdAt)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-secondary mt-2 p-4 border-tertiary border-2\",\n          children: post === null || post === void 0 ? void 0 : post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: (post === null || post === void 0 ? void 0 : post.imageUrl) && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: post.imageUrl,\n            alt: \"post\",\n            className: \" h-80 mt-4 mx-auto object-cover rounded-2xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-row\",\n            children: [/*#__PURE__*/_jsxDEV(LikeButton, {\n              post: post\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 8\n            }, this), post.likes !== 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"pl-2 pt-2\",\n              children: post.likes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-row gap-x-4  \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-row \",\n              children: (post.userId === auth.userId || auth.role === \"admin\") && /*#__PURE__*/_jsxDEV(Modal, {\n                post: post\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 99\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-row \",\n              children: (post.userId === auth.userId || auth.role === \"admin\") && /*#__PURE__*/_jsxDEV(Delete, {\n                post: post\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 99\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"text-tertiary text-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 text-primary font-bold text-3xl border-primary border-b-8 border-r-8 rounded-2xl\",\n      children: \"Contributions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }, this), data !== null && data !== void 0 && data.length ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: data.map(post => /*#__PURE__*/_jsxDEV(\"li\", {\n        ref: lastPostRef,\n        className: \"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 border-tertiary border-b-8 border-r-8 rounded-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: post.userId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-base\",\n            children: [\"Il y a \", ElapsedTime(post === null || post === void 0 ? void 0 : post.createdAt)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-secondary mt-2 p-4 border-tertiary border-2\",\n          children: post === null || post === void 0 ? void 0 : post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: (post === null || post === void 0 ? void 0 : post.imageUrl) && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: post.imageUrl,\n            alt: \"post\",\n            className: \" h-80 mt-4 mx-auto object-cover rounded-2xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-row\",\n            children: [/*#__PURE__*/_jsxDEV(LikeButton, {\n              post: post\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 10\n            }, this), post.likes !== 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"pl-2 pt-2\",\n              children: post.likes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-row gap-x-4  \",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-row \",\n              children: (post.userId === auth.userId || auth.role === \"admin\") && /*#__PURE__*/_jsxDEV(Modal, {\n                post: post\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 101\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-row \",\n              children: (post.userId === auth.userId || auth.role === \"admin\") && /*#__PURE__*/_jsxDEV(Delete, {\n                post: post\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 101\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 8\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Aucun post \\xE0 afficher...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Posts, \"PTFzRqSn2eDWDPaICw1cDljDJBY=\", false, function () {\n  return [useAuth, useInfiniteQuery];\n});\n\n_c = Posts;\nexport default Posts;\n\nvar _c;\n\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","useInfiniteQuery","axios","useAuth","LikeButton","Delete","Modal","ElapsedTime","Posts","auth","fetchNextPage","hasNextPage","isFetchingNextPage","data","status","error","pageParam","response","get","headers","Authorization","token","getNextPageParam","lastPage","allPages","length","undefined","intObserver","lastPostRef","post","current","disconnect","IntersectionObserver","posts","isIntersecting","console","log","observe","content","pages","map","pg","i","userId","createdAt","imageUrl","likes","role","_id"],"sources":["/home/julien/Dropbox/Formation OpenClassroom/Projet 7/code/FRONTEND/src/components/Posts.jsx"],"sourcesContent":["import { useState, useEffect, useRef, useCallback } from \"react\";\nimport { useInfiniteQuery } from \"@tanstack/react-query\";\nimport axios from \"../Api/axios\";\nimport useAuth from \"../hooks/useAuth\";\nimport LikeButton from \"./Button/LikeButton\";\nimport Delete from \"./Button/DeletePost\";\nimport Modal from \"./Button/Modal\";\nimport ElapsedTime from \"./Utilities/ElapsedTime\";\n\nconst Posts = () => {\n\tconst { auth } = useAuth();\n\n\tconst { fetchNextPage, hasNextPage, isFetchingNextPage, data, status, error } = useInfiniteQuery(\n\t\t`/posts`,\n\t\tasync ({ pageParam = 1 }) => {\n\t\t\tconst response = await axios.get(`/post/page/${pageParam}`, { headers: { Authorization: `Bearer ${auth.token}` } });\n\t\t\treturn response.data;\n\t\t},\n\t\t{\n\t\t\tgetNextPageParam: (lastPage, allPages) => {\n\t\t\t\treturn lastPage.length ? allPages.length + 1 : undefined;\n\t\t\t},\n\t\t}\n\t);\n\n\tconst intObserver = useRef();\n\tconst lastPostRef = useCallback(\n\t\t(post) => {\n\t\t\tif (isFetchingNextPage) return;\n\n\t\t\tif (intObserver.current) intObserver.current.disconnect();\n\n\t\t\tintObserver.current = new IntersectionObserver((posts) => {\n\t\t\t\tif (posts[0].isIntersecting && hasNextPage) {\n\t\t\t\t\tconsole.log(\"Dernier post\");\n\t\t\t\t\tfetchNextPage();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (post) intObserver.current.observe(post);\n\t\t},\n\t\t[isFetchingNextPage, hasNextPage, fetchNextPage]\n\t);\n\n\tconst content = data?.pages.map((pg) => {\n\t\treturn pg.map((post, i) => {\n\t\t\tif (pg.length === i + 1) {\n\t\t\t\treturn (\n\t\t\t\t\t<li\n\t\t\t\t\t\tref={lastPostRef}\n\t\t\t\t\t\tclassName=\"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 border-tertiary border-b-8 border-r-8 rounded-2xl\"\n\t\t\t\t\t\tkey={post._id}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"flex flex-row justify-between\">\n\t\t\t\t\t\t\t<div>{post.userId}</div>\n\t\t\t\t\t\t\t<div className=\"text-base\">Il y a {ElapsedTime(post?.createdAt)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-secondary mt-2 p-4 border-tertiary border-2\">{post?.content}</div>\n\t\t\t\t\t\t<div>{post?.imageUrl && <img src={post.imageUrl} alt=\"post\" className=\" h-80 mt-4 mx-auto object-cover rounded-2xl\" />}</div>\n\t\t\t\t\t\t<div className=\"flex justify-between mt-4\">\n\t\t\t\t\t\t\t<div className=\"flex flex-row\">\n\t\t\t\t\t\t\t\t<LikeButton post={post} />\n\t\t\t\t\t\t\t\t{post.likes !== 0 && <p className=\"pl-2 pt-2\">{post.likes}</p>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"flex flex-row gap-x-4  \">\n\t\t\t\t\t\t\t\t<div className=\"flex flex-row \">{(post.userId === auth.userId || auth.role === \"admin\") && <Modal post={post} />}</div>\n\t\t\t\t\t\t\t\t<div className=\"flex flex-row \">{(post.userId === auth.userId || auth.role === \"admin\") && <Delete post={post} />}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<li\n\t\t\t\t\tclassName=\"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 border-tertiary border-b-8 border-r-8 rounded-2xl\"\n\t\t\t\t\tkey={post._id}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"flex flex-row justify-between\">\n\t\t\t\t\t\t<div>{post.userId}</div>\n\t\t\t\t\t\t<div className=\"text-base\">Il y a {ElapsedTime(post?.createdAt)}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"bg-secondary mt-2 p-4 border-tertiary border-2\">{post?.content}</div>\n\t\t\t\t\t<div>{post?.imageUrl && <img src={post.imageUrl} alt=\"post\" className=\" h-80 mt-4 mx-auto object-cover rounded-2xl\" />}</div>\n\t\t\t\t\t<div className=\"flex justify-between mt-4\">\n\t\t\t\t\t\t<div className=\"flex flex-row\">\n\t\t\t\t\t\t\t<LikeButton post={post} />\n\t\t\t\t\t\t\t{post.likes !== 0 && <p className=\"pl-2 pt-2\">{post.likes}</p>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-row gap-x-4  \">\n\t\t\t\t\t\t\t<div className=\"flex flex-row \">{(post.userId === auth.userId || auth.role === \"admin\") && <Modal post={post} />}</div>\n\t\t\t\t\t\t\t<div className=\"flex flex-row \">{(post.userId === auth.userId || auth.role === \"admin\") && <Delete post={post} />}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\t});\n\n\treturn (\n\t\t<article className=\"text-tertiary text-lg\">\n\t\t\t<h2 className=\"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 text-primary font-bold text-3xl border-primary border-b-8 border-r-8 rounded-2xl\">\n\t\t\t\tContributions\n\t\t\t</h2>\n\t\t\t{data?.length ? (\n\t\t\t\t<ul>\n\t\t\t\t\t{data.map((post) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tref={lastPostRef}\n\t\t\t\t\t\t\tclassName=\"h-min mt-4 p-4 w-full flex flex-col justify-between object-top border-2 border-tertiary border-b-8 border-r-8 rounded-2xl\"\n\t\t\t\t\t\t\tkey={post._id}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"flex flex-row justify-between\">\n\t\t\t\t\t\t\t\t<div>{post.userId}</div>\n\t\t\t\t\t\t\t\t<div className=\"text-base\">Il y a {ElapsedTime(post?.createdAt)}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"bg-secondary mt-2 p-4 border-tertiary border-2\">{post?.content}</div>\n\t\t\t\t\t\t\t<div>{post?.imageUrl && <img src={post.imageUrl} alt=\"post\" className=\" h-80 mt-4 mx-auto object-cover rounded-2xl\" />}</div>\n\t\t\t\t\t\t\t<div className=\"flex justify-between mt-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex flex-row\">\n\t\t\t\t\t\t\t\t\t<LikeButton post={post} />\n\t\t\t\t\t\t\t\t\t{post.likes !== 0 && <p className=\"pl-2 pt-2\">{post.likes}</p>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex flex-row gap-x-4  \">\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-row \">{(post.userId === auth.userId || auth.role === \"admin\") && <Modal post={post} />}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-row \">{(post.userId === auth.userId || auth.role === \"admin\") && <Delete post={post} />}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<p>Aucun post à afficher...</p>\n\t\t\t)}\n\t\t</article>\n\t);\n};\n\nexport default Posts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}