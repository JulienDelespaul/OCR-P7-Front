{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Registry } from './registry';\n\nvar _ClassRegistry =\n/** @class */\nfunction (_super) {\n  __extends(_ClassRegistry, _super);\n\n  function _ClassRegistry() {\n    var _this = _super.call(this, function (c) {\n      return c.name;\n    }) || this;\n\n    _this.classToAllowedProps = new Map();\n    return _this;\n  }\n\n  _ClassRegistry.prototype.register = function (value, options) {\n    if (typeof options === 'object') {\n      if (options.allowProps) {\n        this.classToAllowedProps.set(value, options.allowProps);\n      }\n\n      _super.prototype.register.call(this, value, options.identifier);\n    } else {\n      _super.prototype.register.call(this, value, options);\n    }\n  };\n\n  _ClassRegistry.prototype.getAllowedProps = function (value) {\n    return this.classToAllowedProps.get(value);\n  };\n\n  return _ClassRegistry;\n}(Registry);\n\nexport var ClassRegistry = new _ClassRegistry();","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,QAAT,QAAyB,YAAzB;;AAQA;AAAA;AAAA;EAA6BC;;EAC3B;IAAA,YACEC,kBAAM,aAAC;MAAI,QAAC,CAACC,IAAF;IAAM,CAAjB,KAAkB,IADpB;;IAIQC,4BAAsB,IAAIC,GAAJ,EAAtB;;EAFP;;EAIDC,8CAASC,KAAT,EAAuBC,OAAvB,EAAyD;IACvD,IAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;MAC/B,IAAIA,OAAO,CAACC,UAAZ,EAAwB;QACtB,KAAKC,mBAAL,CAAyBC,GAAzB,CAA6BJ,KAA7B,EAAoCC,OAAO,CAACC,UAA5C;MACD;;MAEDP,iBAAMU,QAAN,CAAcC,IAAd,CAAc,IAAd,EAAeN,KAAf,EAAsBC,OAAO,CAACM,UAA9B;IACD,CAND,MAMO;MACLZ,iBAAMU,QAAN,CAAcC,IAAd,CAAc,IAAd,EAAeN,KAAf,EAAsBC,OAAtB;IACD;EACF,CAVD;;EAYAF,qDAAgBC,KAAhB,EAA4B;IAC1B,OAAO,KAAKG,mBAAL,CAAyBK,GAAzB,CAA6BR,KAA7B,CAAP;EACD,CAFD;;EAGF;AAAC,CAtBD,CAA6BP,QAA7B;;AAwBA,OAAO,IAAMgB,aAAa,GAAG,IAAIV,cAAJ,EAAtB","names":["Registry","__extends","_super","name","_this","Map","_ClassRegistry","value","options","allowProps","classToAllowedProps","set","register","call","identifier","get","ClassRegistry"],"sources":["/home/julien/Bureau/P7 Front/OCR-P7-Front/node_modules/superjson/src/class-registry.ts"],"sourcesContent":["import { Registry } from './registry';\nimport { Class } from './types';\n\nexport interface RegisterOptions {\n  identifier?: string;\n  allowProps?: string[];\n}\n\nclass _ClassRegistry extends Registry<Class> {\n  constructor() {\n    super(c => c.name);\n  }\n\n  private classToAllowedProps = new Map<Class, string[]>();\n\n  register(value: Class, options?: string | RegisterOptions): void {\n    if (typeof options === 'object') {\n      if (options.allowProps) {\n        this.classToAllowedProps.set(value, options.allowProps);\n      }\n\n      super.register(value, options.identifier);\n    } else {\n      super.register(value, options);\n    }\n  }\n\n  getAllowedProps(value: Class): string[] | undefined {\n    return this.classToAllowedProps.get(value);\n  }\n}\n\nexport const ClassRegistry = new _ClassRegistry();\n"]},"metadata":{},"sourceType":"module"}