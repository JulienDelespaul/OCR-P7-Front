{"ast":null,"code":"var _jsxFileName = \"/home/julien/Dropbox/Formation OpenClassroom/Projet 7/code/FRONTEND/src/components/PostsPageComponents/PostsPageAddPost.jsx\",\n    _s = $RefreshSig$();\n\nimport \"../Button/button.css\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"../../Api/axios\";\nimport useAuth from \"../../hooks/useAuth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst POST_URL = \"/post\";\n\nconst PostsPageAddPost = () => {\n  _s();\n\n  const {\n    auth\n  } = useAuth();\n\n  const handleInput = async data => {\n    console.log(data.imageUrl);\n\n    try {\n      const userPost = await axios.post(POST_URL, {\n        content: data.content,\n        imageUrl: data.imageUrl\n      }, {\n        headers: {\n          Authorization: `Bearer ${auth.token}`\n        }\n      });\n      console.log(JSON.stringify(userPost === null || userPost === void 0 ? void 0 : userPost.data));\n    } catch (error) {\n      var _error$response;\n\n      console.log(error);\n      console.log((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n    }\n  };\n\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(handleInput),\n    className: \"h-min mt-2 w-full text-lg flex flex-col justify-between object-top border-2 border-primary border-b-8 border-r-8 rounded-2xl \",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"pl-4 pt-4 pb-1 font-bold text-primary\",\n      children: \"Exprimez-vous !\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"px-4 mx-4 h-32 flex text-wrap bg-secondary text-tertiary  border-1 border-black resize-none\",\n      placeholder: \"...\",\n      type: \"text\",\n      name: \"content\",\n      ...register(\"content\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"imageUrl\",\n            ...register(\"imageUrl\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"brutal-btn m-4\",\n            children: \"Ajouter une image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"brutal-btn m-4\",\n          children: \"Poster\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 3\n  }, this);\n};\n\n_s(PostsPageAddPost, \"bTcJ+yN4q96Xe8MCKej3b+sdUAg=\", false, function () {\n  return [useAuth, useForm];\n});\n\n_c = PostsPageAddPost;\nexport default PostsPageAddPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostsPageAddPost\");","map":{"version":3,"names":["useForm","axios","useAuth","POST_URL","PostsPageAddPost","auth","handleInput","data","console","log","imageUrl","userPost","post","content","headers","Authorization","token","JSON","stringify","error","response","register","handleSubmit"],"sources":["/home/julien/Dropbox/Formation OpenClassroom/Projet 7/code/FRONTEND/src/components/PostsPageComponents/PostsPageAddPost.jsx"],"sourcesContent":["import \"../Button/button.css\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"../../Api/axios\";\nimport useAuth from \"../../hooks/useAuth\";\n\nconst POST_URL = \"/post\";\n\nconst PostsPageAddPost = () => {\n\tconst { auth } = useAuth();\n\n\tconst handleInput = async (data) => {\n\t\tconsole.log(data.imageUrl);\n\t\ttry {\n\t\t\tconst userPost = await axios.post(\n\t\t\t\tPOST_URL,\n\t\t\t\t{ content: data.content, imageUrl: data.imageUrl },\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconsole.log(JSON.stringify(userPost?.data));\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\tconsole.log(error.response?.data);\n\t\t}\n\t};\n\tconst { register, handleSubmit } = useForm();\n\treturn (\n\t\t<form\n\t\t\tonSubmit={handleSubmit(handleInput)}\n\t\t\tclassName=\"h-min mt-2 w-full text-lg flex flex-col justify-between object-top border-2 border-primary border-b-8 border-r-8 rounded-2xl \"\n\t\t>\n\t\t\t<label className=\"pl-4 pt-4 pb-1 font-bold text-primary\">Exprimez-vous !</label>\n\t\t\t<textarea\n\t\t\t\tclassName=\"px-4 mx-4 h-32 flex text-wrap bg-secondary text-tertiary  border-1 border-black resize-none\"\n\t\t\t\tplaceholder=\"...\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"content\"\n\t\t\t\t{...register(\"content\")}\n\t\t\t/>\n\t\t\t<div className=\"flex justify-end\">\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input type=\"file\" name=\"imageUrl\" {...register(\"imageUrl\")} />\n\t\t\t\t\t\t<button className=\"brutal-btn m-4\">Ajouter une image</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button className=\"brutal-btn m-4\">Poster</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default PostsPageAddPost;\n"],"mappings":";;;AAAA,OAAO,sBAAP;AACA,SAASA,OAAT,QAAwB,iBAAxB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAOC,OAAP,MAAoB,qBAApB;;AAEA,MAAMC,QAAQ,GAAG,OAAjB;;AAEA,MAAMC,gBAAgB,GAAG,MAAM;EAAA;;EAC9B,MAAM;IAAEC;EAAF,IAAWH,OAAO,EAAxB;;EAEA,MAAMI,WAAW,GAAG,MAAOC,IAAP,IAAgB;IACnCC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,QAAjB;;IACA,IAAI;MACH,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAN,CACtBT,QADsB,EAEtB;QAAEU,OAAO,EAAEN,IAAI,CAACM,OAAhB;QAAyBH,QAAQ,EAAEH,IAAI,CAACG;MAAxC,CAFsB,EAGtB;QACCI,OAAO,EAAE;UACRC,aAAa,EAAG,UAASV,IAAI,CAACW,KAAM;QAD5B;MADV,CAHsB,CAAvB;MAUAR,OAAO,CAACC,GAAR,CAAYQ,IAAI,CAACC,SAAL,CAAeP,QAAf,aAAeA,QAAf,uBAAeA,QAAQ,CAAEJ,IAAzB,CAAZ;IACA,CAZD,CAYE,OAAOY,KAAP,EAAc;MAAA;;MACfX,OAAO,CAACC,GAAR,CAAYU,KAAZ;MACAX,OAAO,CAACC,GAAR,oBAAYU,KAAK,CAACC,QAAlB,oDAAY,gBAAgBb,IAA5B;IACA;EACD,CAlBD;;EAmBA,MAAM;IAAEc,QAAF;IAAYC;EAAZ,IAA6BtB,OAAO,EAA1C;EACA,oBACC;IACC,QAAQ,EAAEsB,YAAY,CAAChB,WAAD,CADvB;IAEC,SAAS,EAAC,+HAFX;IAAA,wBAIC;MAAO,SAAS,EAAC,uCAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAJD,eAKC;MACC,SAAS,EAAC,6FADX;MAEC,WAAW,EAAC,KAFb;MAGC,IAAI,EAAC,MAHN;MAIC,IAAI,EAAC,SAJN;MAAA,GAKKe,QAAQ,CAAC,SAAD;IALb;MAAA;MAAA;MAAA;IAAA,QALD,eAYC;MAAK,SAAS,EAAC,kBAAf;MAAA,uBACC;QAAA,wBACC;UAAA,wBACC;YAAO,IAAI,EAAC,MAAZ;YAAmB,IAAI,EAAC,UAAxB;YAAA,GAAuCA,QAAQ,CAAC,UAAD;UAA/C;YAAA;YAAA;YAAA;UAAA,QADD,eAEC;YAAQ,SAAS,EAAC,gBAAlB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFD;QAAA;UAAA;UAAA;UAAA;QAAA,QADD,eAKC;UAAQ,SAAS,EAAC,gBAAlB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QALD;MAAA;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA,QAZD;EAAA;IAAA;IAAA;IAAA;EAAA,QADD;AAwBA,CA/CD;;GAAMjB,gB;UACYF,O,EAqBkBF,O;;;KAtB9BI,gB;AAiDN,eAAeA,gBAAf"},"metadata":{},"sourceType":"module"}